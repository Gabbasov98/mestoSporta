$(".form-group input").each(function(index, el) {
    if ($(el).val()) {
        $(el).addClass("input-active")
    } else {
        $(el).removeClass("input-active")
    }
});

$(".form-group textarea").each(function(index, el) {
    if ($(el).val()) {
        $(el).addClass("input-active")
    } else {
        $(el).removeClass("input-active")
    }
});

$(".form-group input").change(function() {
    let val = $(this).val()
    console.log(val)
    if (val) {
        $(this).addClass("input-active")
    } else {
        $(this).removeClass("input-active")
    }
})

$(".form-group textarea").change(function() {
    let val = $(this).val()
    console.log(val)
    if (val) {
        $(this).addClass("input-active")
    } else {
        $(this).removeClass("input-active")
    }
})

$(".copy-text__btn").click(function () {
    var $tmp = $("<textarea>");
    $("body").append($tmp);
    $tmp.val($(this).siblings(".copy-text__value").text()).select();
    document.execCommand("copy");
    $tmp.remove();
    $(this).parents(".copy-text").addClass("copy-text--active")

    setTimeout(() => $(this).parents(".copy-text").removeClass("copy-text--active"), 2000)
})

function bestSlider() {
    var swiper = new Swiper('.best__slider.swiper-container', {
        slidesPerView: "auto",
        spaceBetween: 30,
        observer: true,
        observeParents: true,
        observeSlideChildren: true,
    })
}

function directionSlider() {
    var swiper = new Swiper('.direction .swiper-container', {
        slidesPerView: "auto",
        spaceBetween: 30,
        navigation: {
            nextEl: '.direction .swiper-button-next',
        },
    })
}


bestSlider()
directionSlider()

$("[data-modal]").click(function () {
    let modalId = $(this).attr("data-modal")

    openModal(modalId)
})

function openModal(modalId){
    $(`#${modalId}`).addClass("modal--active")
    $("body").addClass("fixed-body")
}


$(".modal__close").click(function () {
    closeModal()
})



function closeModal() {
    if($(".header").hasClass("_open-menu")){
        $('.modal').removeClass("modal--active")
        return
    }
    $('.modal').removeClass("modal--active")
    $("body").removeClass("fixed-body")
}

// $(".modal .nice-select").click(function () {
//     $(this).addClass("open")
//     console.log(true)
// })

$(document).click('.modal .nice-select',function(){

});

$('body').on('click', '.modal .nice-select', function() {
    console.log(true)
})

$("._confirm-city").click(function () {
    $(".city-ask").removeClass("city-ask--active")
})

$(".header__burger").click(function() {
    if($(".header").hasClass("_open-menu")){
        $(".header").removeClass("_open-menu")
        $("body").removeClass("fixed-body")
        return
    }
    $(".header").addClass("_open-menu")
    $("body").addClass("fixed-body")
})

let stepsNum = $(".podbor__step").length
let stepLength = 100 / stepsNum
let progressNum = 0

$(".places__tab").click(function () {
    let path = $(this).attr("data-tabs-path")
    $(".places__tab").removeClass("_active")
    $(this).addClass("_active")
    $(".places__tab-content").removeClass("_active")
    $(`.places__tab-content[data-tabs-path="${path}"]`).addClass("_active")
})


function setProgress() {
    console.log(progressNum)
    $(".podbor__progress-fill").css("width",`${progressNum}%`)
    $(".podbor__percent").html(progressNum.toFixed())
}

// setProgress()

function changePlacesCount(count) {
    setTimeout(function () {
        // Указываем какой элемент и нужную цифру
        odometer.innerHTML = count;
    }, 100);
}



function getActiveStepNum() {
    return +$(".podbor__step--active").attr("data-step")
}

function setStep(num) {
    $(".podbor__step").removeClass("podbor__step--active")
    $(`.podbor__step[data-step="${num}"]`).addClass("podbor__step--active")
    setProgress()
    changePlacesCount(3000 / getActiveStepNum())
}


$("._prev-step").click(function () {
    let current = getActiveStepNum()
    progressNum = progressNum - stepLength
    if(current > 1){
        setStep(current-1)
    }
})

$("._next-step").click(function () {
    let current = getActiveStepNum()
    progressNum = progressNum + stepLength
    if(current < stepsNum){
        setStep(current+1)
    } else{
        $(".quiz").removeClass("_show")
        $(".places").addClass("_show")
        $(".podbor__count").removeClass("podbor__count--active")
        $(".podbor__progress-fill").css("width",`100%`)
        $(".podbor__percent").html(100)
    }
})

$("._first-step").click(function () {
    $(".quiz").addClass("_show")
    $(".places").removeClass("_show")
    $(".podbor__count").addClass("podbor__count--active")
    $(".podbor__progress-fill").css("width",`0%`)
    $(".podbor__percent").html(0)
    progressNum = 0
    setStep(1)
})


$("._save-results").click(function () {
    $(".save").addClass("_show")
    $(".places").removeClass("_show")
    $(".podbor__top").removeClass("_show")
})

$(document).ready(function() {
    $('input[type="tel"]').mask('+7 (999) 999-99-99', { autoclear: false }, { placeholder: '+7                ' });







});

//# sourceMappingURL=../sourcemaps/main.min.js.map
